# âœˆ ç®€å†åœ¨çº¿ç”Ÿæˆå™¨

> è¯¥é¡¹ç›®æ˜¯ä¸€ä¸ªåœ¨çº¿å¡«å†™ä¸ªäººä¿¡æ¯ç­‰ç›¸å…³ç®€å†ä¿¡æ¯ï¼Œç„¶åæ ¹æ®ç”¨æˆ·å¡«å†™çš„è¿™äº›ä¿¡æ¯ï¼Œåœ¨çº¿ç”Ÿæˆä¸€ä»½`PDFæ–‡æ¡£`çš„ä¸ªäººç®€å†ï¼Œæä¾›ç»™ç”¨æˆ·é¢„è§ˆä»¥åŠä¸‹è½½è¿™ä»½å¡«å†™å¥½çš„ä¸ªäººç®€å†

## ğŸ’» â€‹ é¡¹ç›®æ¼”ç¤º

![system.gif](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/29c5813fc5d64ddc95311d26c0ca84fc~tplv-k3u1fbpfcp-watermark.image)

## ğŸ˜£ â€‹ é¡¹ç›®éš¾ç‚¹

è¯·æ€è€ƒä¸€ä¸‹ï¼Œä»¥ä¸‹çš„å‡ ä¸ªé—®é¢˜ï¼Œæœ‰ä»€ä¹ˆè§£å†³æ–¹æ¡ˆï¼Œéœ€è¦ç”¨åˆ°ä»€ä¹ˆæŠ€æœ¯ï¼Œå³ä¾¿æ—¥åä½ æŠŠè¿™ä¸ªé¡¹ç›®å†™åœ¨ç®€å†ä¸Šä½œä¸ºè‡ªå·±åˆå­¦ Vue æ¡†æ¶çš„ä¸€ä¸ªä¸ªäººçš„å®è·µé¡¹ç›®ï¼Œç›¸ä¿¡é¢è¯•å®˜å¯¹ä½ æœ‰æ‰€é’çã€‚

- markdown ç¼–è¾‘å™¨çš„åŸç†ï¼Œæ€ä¹ˆå»å®ç°ä¸€ä¸ª markdown ç¼–è¾‘å™¨çš„ç»„ä»¶ï¼Ÿ
- markdown ç¼–è¾‘å™¨ç»„ä»¶æ€ä¹ˆå®ç°å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½ï¼Ÿ
- æ€ä¹ˆå®ç°çš„ä¸‹è½½æ–‡æ¡£åŠŸèƒ½ï¼Œä»¥åŠå¦‚ä½•ç”Ÿæˆ PDF æ ¼å¼çš„ç®€å†æ–‡ä»¶ï¼Ÿ
- é¡¹ç›®ä¸­æ˜¯æ€ä¹ˆå°è£…ç»„ä»¶çš„ï¼Œæœ‰ä»€ä¹ˆæ€è·¯æˆ–è€…æ­¥éª¤ï¼Ÿ
- è¯¥é¡¹ç›®ä¸ºå•çº¯çš„å‰ç«¯é¡¹ç›®ï¼Œæ˜¯å¦‚ä½•å®ç°æ•°æ®æŒä¹…åŒ–çš„ï¼Ÿ
- é¡¹ç›®çš„å³æ—¶æ¸²æŸ“æŠ€æœ¯ï¼Œä¹Ÿå°±æ˜¯æ•°æ®åŒå‘ç»‘å®šï¼Œä½¿ç”¨äº†**è§‚å¯Ÿè€…æ¨¡å¼**

* VueRoute ä»¥åŠç›¸å…³æŠ€æœ¯

  - è·¯ç”±è¿‡æ¸¡åŠ¨ç”»æ•ˆæœæ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ
  - è·¯ç”±ç»„ä»¶çš„æ‡’åŠ è½½æ˜¯æ€ä¹ˆå®ç°çš„ï¼Œä»¥åŠä¸ºä»€ä¹ˆè¦æ‡’åŠ è½½ï¼Ÿ
    - Vue çš„å¼‚æ­¥ç»„ä»¶`import()`åŠ ä¸Š Webpack çš„ä»£ç åˆ†å‰²`code split`åŠŸèƒ½
  - åŸºäºå¯¼èˆªå®ˆå«è¿›è¡Œé¡¹ç›®æƒé™è·¯ç”±æ‹¦æˆªåŠŸèƒ½ï¼Ÿ

    - å…¨å±€çš„`router.beforeEach()`

## ğŸ§ â€‹ è·¯ç”±å®ˆå«

[VueRouter](https://router.vuejs.org/zh/)çš„å¯¼èˆªå®ˆå«åˆ†ä¸º**å…¨å±€**å®ˆå«é’©å­ä¸**å±€éƒ¨ï¼ˆç»„ä»¶ï¼‰**å®ˆå«é’©å­ï¼Œæ‰€è°“çš„é’©å­å°±æ˜¯é¡¹ç›®è¿è¡Œåˆ°ä¸€ä¸ªç›¸åº”çš„æˆ‘é˜¶æ®µå¯ä»¥è°ƒç”¨çš„æ–¹æ³•æ¥å®ç°æŸäº›åŠŸèƒ½ã€‚é€šå¸¸åœ¨ VueRouter é¡¹ç›®ä¸­æˆ‘ä»¬ç”¨çš„ç›¸å¯¹è¾ƒå¤šçš„å®ˆå«é’©å­å°±æ˜¯`beforeEach`ã€`beforeRouteUpdate`,åœ¨è¿™é‡Œæˆ‘å°±ä¸æ•™å¤§å®¶å»ä¸€ä¸€å­¦ä¹ å¯¹åº”çš„å®ˆå«é’©å­ï¼Œå€˜è‹¥è‡ªå·±å¯¹è¿™ä¸€å¿«çŸ¥è¯†æ¯”è¾ƒæ¨¡ç³Šçš„è¯ï¼Œå¯ä»¥å» VueRouter å®˜æ–¹ç½‘ç«™è¿›è¡Œå……ç”µ :arrow_right: [https://router.vuejs.org/zh/](https://router.vuejs.org/zh/)

- åŠŸèƒ½ç‚¹ï¼šåŸºäº Vue çš„å…¨å±€å‰ç½®å®ˆå«é’©å­`beforeEach` å®ç°ç™»å½•é‰´æƒ

  - é¡¹ç›®çŸ¥è¯†çš„å•çº¯çš„å‰ç«¯é¡¹ç›®ï¼Œ åœ¨æ— åç«¯ä»¥åŠæ— æœåŠ¡å™¨æ— æ•°æ®åº“çš„æƒ…å†µä¸‹åªèƒ½å•çº¯åŸºäº`js-cookies`è¿™ä¸ªåº“æ¥ç®€å•å®ç°ç™»å½•é‰´æƒåŠŸèƒ½ã€‚

  - æ€è·¯

    - ä½¿ç”¨`js-cookies`å­˜å‚¨ä¸€ä¸ª userInfo å¯¹è±¡ï¼Œè¯¥å¯¹è±¡ä¸ºå½“å‰ç™»å½•æ”¹ç³»ç»Ÿçš„ç”¨æˆ·ä¿¡æ¯ï¼ŒuserInfo æœ‰è®°å½•ç”¨æˆ·åä¸å¯†ç 
    - ç”¨æˆ·æ¯æ¬¡ç™»å½•ç³»ç»Ÿï¼Œéƒ½ä» Cookies é‡Œé¢è¯»å–ä¸ªäºº userInfoï¼Œå€˜è‹¥ userInfo è¿™ä¸ªå¯¹è±¡å­˜åœ¨è€Œä¸”ç”¨æˆ·åå’Œå¯†ç éƒ½ä¸ä¸ºç©ºï¼Œç”¨æˆ·æˆåŠŸç™»å½•ç³»ç»Ÿ
    - å€˜è‹¥ userInfo æˆ–ç”¨æˆ·åæˆ–å¯†ç ä¸ºç©ºï¼Œåˆ™æ— è®ºç”¨æˆ·åœ¨æ”¹ç³»ç»Ÿè¿›è¡Œä»€ä¹ˆé¡µé¢è·³è½¬éƒ½é‡å®šå‘è‡³ç™»å½•ç•Œé¢

  - å…·ä½“ä»£ç 

    - å®šä¹‰è·¯ç”±

      ```js
      import Vue from 'vue'
      import Router from 'vue-router'
      import Cookies from 'js-cookies'

      Vue.use(Router)

      const router = new Router({
        mode: 'history',
        base: '/',
        routes: [
          {
            path: '/',
            name: 'home',
            redirect: '/base',
            component: Home,
            children: []
          },
          {
            path: '/login',
            name: 'login',
            component: () => import('./views/Login')
          }
        ]
      })

      // è·¯ç”±æƒé™éªŒè¯ æœ‰æƒé™è¿›å…¥ç³»ç»Ÿ æ— æƒé™åˆ™è·³è½¬ç™»å½•é¡µ
      // to.name: å½“å‰è·¯ç”±çš„åå­—ï¼Œ'login'ä¸ºç™»å½•ç•Œé¢ç»„ä»¶çš„name
      router.beforeEach((to, from, next) => {
        const userInfo = JSON.parse(Cookies.getItem('userInfo'))
        if (to.name !== 'login' && !userInfo) {
          next({ path: '/login', name: 'login' })
        } else next()
      })

      export default router
      ```

      ```vue
      Login.vue

      <script>
      import Cookies from 'js-cookies'
      import bgImgOne from '@/assets/images/banner1.png'
      import bgImgTwo from '@/assets/images/banner2.png'

      export default {
        data() {
          return {
            bgImgArr: [bgImgOne, bgImgTwo],
            form: { name: '', password: '' },
            btnLoading: false,
            btnDisabled: true,
            loginBtnDisabled: true
          }
        },

        methods: {
          onSave(name) {
            this.$refs[name].validate(valid => {
              if (valid) {
                this.btnLoading = true
                setTimeout(() => {
                  this.btnLoading = false
                  // æ¯æ¬¡ç™»å½•æŠŠæœ€æ–°çš„ç”¨æˆ·ä¿¡æ¯å­˜å…¥Cookies
                  Cookies.setItem('userInfo', JSON.stringify(this.form), { expires: 3 })
                  this.$message.success('ç™»å½•æˆåŠŸï¼')
                  this.$router.push('/')
                }, 500)
              }
            })
          }
        }
      }
      </script>
      ```

![login.gif](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7b0f88ae8813485aa68aca41ed849eea~tplv-k3u1fbpfcp-watermark.image)

## âœ é¡¹ç›®æŠ€æœ¯æ ˆ

| æŠ€æœ¯         | è¯´æ˜                     | å®˜ç½‘                                                                                     |
| :----------- | :----------------------- | :--------------------------------------------------------------------------------------- |
| Vue 2.x      | å‰ç«¯æ¡†æ¶                 | [https://vuejs.org/](https://vuejs.org/)                                                 |
| Vue-router   | å‰ç«¯è·¯ç”±æ¡†æ¶             | [https://router.vuejs.org/](https://router.vuejs.org/)                                   |
| Vuex         | å…¨å±€çŠ¶æ€ç®¡ç†æ¡†æ¶         | [https://vuex.vuejs.org/](https://vuex.vuejs.org/)                                       |
| Vue-cli 3.x  | é¡¹ç›®è„šæ‰‹æ¶               | [https://cli.vuejs.org/zh/](https://cli.vuejs.org/zh/)                                   |
| element-ui   | å‰ç«¯ UI æ¡†æ¶             | [https://element.eleme.io/](https://element.eleme.io/)                                   |
| mavon-editor | vue æ’ä»¶ markdown ç¼–è¾‘å™¨ | [https://github.com/hinesboy/mavonEditor](https://github.com/hinesboy/mavonEditor)       |
| html2canvas  | å°† html ç”Ÿæˆå›¾ç‰‡         | [https://github.com/niklasvh/html2canvas](https://github.com/niklasvh/html2canvas)       |
| jspdf        | å°†å›¾ç‰‡è½¬æ¢æˆ PDF æ–‡æ¡£    | [https://mozilla.github.io/pdf.js/examples/](https://mozilla.github.io/pdf.js/examples/) |

## ğŸ‰‘ è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰

è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆå‘å¸ƒ-è®¢é˜…æ¨¡å¼ï¼‰è§‚å¯Ÿè€…ä»¬ç›‘å¬å¯¹è±¡ Subject å±æ€§çš„å˜åŒ–ï¼Œè‹¥æœ‰å˜åŒ–åˆ™ Subject åˆ™è§¦å‘ notify()æ–¹æ³•ï¼›è¿™ä¸ªæ–¹æ³•å°±è§¦å‘ Observer çš„ update()ç›‘å¬å›è°ƒæ–¹æ³•ï¼Œå–å®ŒæˆæŸäº›æ“ä½œã€‚

- Observer è§‚å¯Ÿè€…
  - å±æ€§ï¼š name(è‡ªèº«åå­—) subject(è¢«è§‚å¯Ÿè€…)
  - æ–¹æ³•ï¼š update()
- Subject è¢«è§‚å¯Ÿè€…
  - å±æ€§ï¼š state(çŠ¶æ€) obervers(è§‚å¯Ÿè€…ä»¬ï¼Œ æ•°ç»„)
  - æ–¹æ³•ï¼šgetState() setState() attach() notify()

å¾…ç»­ã€‚ã€‚ã€‚ã€‚

**âš  ä»¥ä¸‹æ˜¯è¯¥é¡¹ç›®çš„å®‰è£…è¿è¡Œæ­¥éª¤**

## ğŸ• å°†æœ¬é¡¹ç›®å…‹éš†è‡³æœ¬åœ°

```
git clone git@github.com:ZhengMaster2020/vue-reume-online.git
cd vue-resume-online
```

## ğŸ•‘ å®‰è£…ä¾èµ–

```sh
å»ºè®®ï¼š æ·˜å®é•œåƒ
cnpm i
 æˆ–
npm install
```

### ğŸ•’ å¯åŠ¨é¡¹ç›®

```sh
npm run dev
```

### ğŸ•” æ‰“åŒ…é¡¹ç›®

```
npm run build
```
